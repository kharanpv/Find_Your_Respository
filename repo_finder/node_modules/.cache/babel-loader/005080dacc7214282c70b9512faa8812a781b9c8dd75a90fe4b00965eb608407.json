{"ast":null,"code":"// runSearch.js\n\nimport { Octokit } from \"octokit\";\nimport React, { useState } from \"react\";\nconst authKey = \"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\";\nconst octokit = new Octokit({\n  auth: authKey // Use the read key as the authentication token\n});\n\nconst [selected, setSelected] = useState([]); // array of selected languages\n\nexport const handleCheckbox = e => {\n  const value = e.target.value;\n  if (e.target.checked) {\n    setSelected([...selected, value]); // add the value to the selected array\n  } else {\n    setSelected(selected.filter(item => item !== value)); // remove the value from the selected array\n  }\n};\n\nasync function getResults() {\n  try {\n    // try to get response for request to search\n    let response = await octokit.request(\"GET /search/repositories?q={query}+language:{language}+created:{from_date}..{to_date}\", {\n      query: \"ARM\",\n      language: \"Assembly\",\n      per_page: 10\n    });\n\n    // Create the responses directory if it doesn't exist\n    if (!localStorage.responses) {\n      localStorage.responses = JSON.stringify([response]);\n    } else {\n      // else, append\n      const responses = JSON.parse(localStorage.responses);\n      responses.push(response);\n      localStorage.responses = JSON.stringify(responses);\n    }\n  } catch (error) {\n    if (error.response) console.error(`Error: ${error.response.status}\\n Message: ${error.response.data.message}`);else console.error(error);\n  }\n}\nexport function runSearch() {\n  const query = document.getElementById(\"query\");\n  const owner = document.getElementById(\"owner\");\n  const stars = document.getElementById(\"stars\");\n  const lastUpdated = document.getElementById(\"last-updated\");\n  // Get selected checkboxes\n  const selectedLanguages = languages.filter(language => getCheckboxProps({\n    value: language\n  }).isChecked);\n\n  // Concatenate the values into a single string\n  const alertMessage = `Query: ${query.value}\\nOwner: ${owner.value}\\nStars: ${stars.value}\\nLast Updated: ${lastUpdated.value}\\nLanguages: ${selectedLanguages.join(\", \")}`;\n\n  // Display the concatenated string in an alert\n  alert(alertMessage);\n}","map":{"version":3,"names":["Octokit","React","useState","authKey","octokit","auth","selected","setSelected","handleCheckbox","e","value","target","checked","filter","item","getResults","response","request","query","language","per_page","localStorage","responses","JSON","stringify","parse","push","error","console","status","data","message","runSearch","document","getElementById","owner","stars","lastUpdated","selectedLanguages","languages","getCheckboxProps","isChecked","alertMessage","join","alert"],"sources":["C:/Users/Prateek/Desktop/College_Stuff/Fall_2023_Co-op_Semester/MakeUC/Find_your_repository/repo_finder/src/utils/runSearch.js"],"sourcesContent":["// runSearch.js\r\n\r\nimport { Octokit } from \"octokit\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst authKey = \"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\"\r\n\r\nconst octokit = new Octokit({\r\n    auth: authKey, // Use the read key as the authentication token\r\n});\r\n\r\nconst [selected, setSelected] = useState([]); // array of selected languages\r\n\r\nexport const handleCheckbox = (e) => {\r\n    const value = e.target.value;\r\n    if (e.target.checked) {\r\n        setSelected([...selected, value]); // add the value to the selected array\r\n    } else {\r\n        setSelected(selected.filter(item => item !== value)); // remove the value from the selected array\r\n    }\r\n}\r\n\r\nasync function getResults() {\r\n\r\n    try {\r\n        // try to get response for request to search\r\n        let response = await octokit.request(\"GET /search/repositories?q={query}+language:{language}+created:{from_date}..{to_date}\", {\r\n            query: \"ARM\",\r\n            language: \"Assembly\",\r\n            per_page: 10,\r\n        })\r\n\r\n        // Create the responses directory if it doesn't exist\r\n        if (!localStorage.responses) {\r\n            localStorage.responses = JSON.stringify([response]);\r\n\r\n        } else { // else, append\r\n            const responses = JSON.parse(localStorage.responses);\r\n            responses.push(response);\r\n            localStorage.responses = JSON.stringify(responses);\r\n        }\r\n\r\n    } catch (error) {\r\n        if (error.response)\r\n            console.error(`Error: ${error.response.status}\\n Message: ${error.response.data.message}`)\r\n        else console.error(error)\r\n    }\r\n}\r\n\r\nexport function runSearch() {\r\n    const query = document.getElementById(\"query\");\r\n    const owner = document.getElementById(\"owner\");\r\n    const stars = document.getElementById(\"stars\");\r\n    const lastUpdated = document.getElementById(\"last-updated\");\r\n    // Get selected checkboxes\r\n    const selectedLanguages = languages.filter((language) => getCheckboxProps({ value: language }).isChecked);\r\n\r\n    // Concatenate the values into a single string\r\n    const alertMessage = `Query: ${query.value}\\nOwner: ${owner.value}\\nStars: ${stars.value}\\nLast Updated: ${lastUpdated.value}\\nLanguages: ${selectedLanguages.join(\", \")}`;\r\n\r\n    // Display the concatenated string in an alert\r\n    alert(alertMessage);\r\n}\r\n"],"mappings":"AAAA;;AAEA,SAASA,OAAO,QAAQ,SAAS;AACjC,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,MAAMC,OAAO,GAAG,0CAA0C;AAE1D,MAAMC,OAAO,GAAG,IAAIJ,OAAO,CAAC;EACxBK,IAAI,EAAEF,OAAO,CAAE;AACnB,CAAC,CAAC;;AAEF,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;AAE9C,OAAO,MAAMM,cAAc,GAAIC,CAAC,IAAK;EACjC,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;EAC5B,IAAID,CAAC,CAACE,MAAM,CAACC,OAAO,EAAE;IAClBL,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAEI,KAAK,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC,MAAM;IACHH,WAAW,CAACD,QAAQ,CAACO,MAAM,CAACC,IAAI,IAAIA,IAAI,KAAKJ,KAAK,CAAC,CAAC,CAAC,CAAC;EAC1D;AACJ,CAAC;;AAED,eAAeK,UAAUA,CAAA,EAAG;EAExB,IAAI;IACA;IACA,IAAIC,QAAQ,GAAG,MAAMZ,OAAO,CAACa,OAAO,CAAC,uFAAuF,EAAE;MAC1HC,KAAK,EAAE,KAAK;MACZC,QAAQ,EAAE,UAAU;MACpBC,QAAQ,EAAE;IACd,CAAC,CAAC;;IAEF;IACA,IAAI,CAACC,YAAY,CAACC,SAAS,EAAE;MACzBD,YAAY,CAACC,SAAS,GAAGC,IAAI,CAACC,SAAS,CAAC,CAACR,QAAQ,CAAC,CAAC;IAEvD,CAAC,MAAM;MAAE;MACL,MAAMM,SAAS,GAAGC,IAAI,CAACE,KAAK,CAACJ,YAAY,CAACC,SAAS,CAAC;MACpDA,SAAS,CAACI,IAAI,CAACV,QAAQ,CAAC;MACxBK,YAAY,CAACC,SAAS,GAAGC,IAAI,CAACC,SAAS,CAACF,SAAS,CAAC;IACtD;EAEJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACX,QAAQ,EACdY,OAAO,CAACD,KAAK,CAAE,UAASA,KAAK,CAACX,QAAQ,CAACa,MAAO,eAAcF,KAAK,CAACX,QAAQ,CAACc,IAAI,CAACC,OAAQ,EAAC,CAAC,MACzFH,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EAC7B;AACJ;AAEA,OAAO,SAASK,SAASA,CAAA,EAAG;EACxB,MAAMd,KAAK,GAAGe,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;EAC9C,MAAMC,KAAK,GAAGF,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;EAC9C,MAAME,KAAK,GAAGH,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;EAC9C,MAAMG,WAAW,GAAGJ,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;EAC3D;EACA,MAAMI,iBAAiB,GAAGC,SAAS,CAAC1B,MAAM,CAAEM,QAAQ,IAAKqB,gBAAgB,CAAC;IAAE9B,KAAK,EAAES;EAAS,CAAC,CAAC,CAACsB,SAAS,CAAC;;EAEzG;EACA,MAAMC,YAAY,GAAI,UAASxB,KAAK,CAACR,KAAM,YAAWyB,KAAK,CAACzB,KAAM,YAAW0B,KAAK,CAAC1B,KAAM,mBAAkB2B,WAAW,CAAC3B,KAAM,gBAAe4B,iBAAiB,CAACK,IAAI,CAAC,IAAI,CAAE,EAAC;;EAE1K;EACAC,KAAK,CAACF,YAAY,CAAC;AACvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}